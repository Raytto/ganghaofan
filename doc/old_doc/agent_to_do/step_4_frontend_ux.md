# Step 4 · 前端信息架构与交互（小程序 Skyline）

## 页面与路由
- pages/calender/index：主日历页
- pages/logs/logs：个人日志
- pages/center/center：个人中心（余额、充值入口/提示）
- pages/meal/publish：管理员发布/编辑餐次
- pages/meal/order：下单/修改/取消

备注：可逐步实现，先完成主日历、下单页、发布页，后补个人中心/日志。

## 主日历页布局
- 顶部：
  - TODAY 按钮（滚动到包含今日的月份）
  - 当前视图月份“YYYY年MM月”
  - 右侧文案“和罡子哥一起健康每一天！”
  - 管理员模式切换按钮（管理员可见）：“切换用户模式/切换管理模式”
- 日历：
  - 顶部：周一 ~ 周日
  - 5~6 行日期格，每格三层：
    - 顶：日期数字（今日特殊底色+数字色）
    - 上：午餐
    - 下：晚餐
  - 午/晚餐格状态：
    - 灰：未发布（用户点击提示未发布；管理员显示齿轮进入发布页）
    - 白：已发布（可点餐；若达上限显示“售罄”图标；管理员有齿轮改发布信息）
    - 绿：我已下单（未锁：可改可取消；锁：显示“锁”图标；完成：打勾）
- 下方：个人中心入口

## 订单页
- 展示：餐次标题/描述/基础价/可选项/剩余份数/已下单份数
- 选择：份数（受 per_user_limit 约束）
 - 选项：多选“布尔选项”（不支持单选项内多份数量；如需多份，由发布方配置多个类似选项）
- 实时价格计算（前端仅展示，最终由后端返回确认为准）
- 提交：创建或修改订单
 - 交互提示：提交即扣费；修改会先退旧单后扣新单；取消将原路退款（锁单后不可操作）

## 发布/编辑页（管理员）
 - 字段：日期（根据入口预填）、午/晚、标题、描述、基础价、可选项（名称+价；布尔型）、总容量、单人上限
- 操作：保存、取消餐次、锁单、标记完成

## 个人中心
- 显示余额（允许为负）
- 充值入口（若采用管理员手工充值，则展示指引与联系管理员）
- 个人日志入口

## 个人日志页
- 默认 10 条，向上滚动加载更多
- 记录类型：下单/改单/取消/充值/扣费/退款/发布/锁单/完成/取消餐次

## 设计风格
- 扁平风，统一浅色背景，高对比主色按钮（TODAY、提交等）
- 图标：饭碗（可点）、售罄、锁、勾

## 开放问题
- 动效是否需要（切换月份、提交成功 toast）？默认轻量实现。
